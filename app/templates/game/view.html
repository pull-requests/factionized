{% extends 'shared/layouts/canvas.html' %}

{% block js_includes %}
	{% include 'shared/includes/js_gaming.html' %}
	<script type="text/javascript" src="/js/factionized/core.js"></script>
	<script type="text/javascript" src="/js/factionized/models.js"></script>
	<script type="text/javascript" src="/js/factionized/game.js"></script>
	<script type="text/javascript" src="/js/factionized/game_controls.js"></script>
{% endblock %}

{% block canvas %}
	<h1>{{ game.name }}</h1>
	<div id="viewport" class="fz-game grid_10"></div>
	<div id="viewport-controls" class="fz-actions fz-meta grid_2"></div>
	<script type="text/javascript">
		var init_data = {{ serialized|safe }}
		$('#viewport').game(init_data);
		$('#viewport-controls').game_controls(init_data.game, init_data.profile);
	</script>
{% endblock %}
